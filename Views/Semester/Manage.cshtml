@{
Layout = "_ManageLayout"; // Sử dụng layout admin
  var p = (SemesterPage)ViewBag.Page;
  var semesters = p.semesters;
}

  <div id="content" class="container-fluid">
    <div class="card">
      <div class="card-header font-weight-bold d-flex justify-content-between align-items-center">
        <div class="m-0 table-title">Danh sách kỳ học của khóa học VDC toán 12</div>
        <!-- <form method="GET" class="row row-cols-lg-auto g-3 align-items-center">
        <div class="col-12">
          <input type="text" class="form-control" name="q" placeholder="Tìm kiếm" value="">
        </div>
        <div class="col-12">
          <input type="submit" name="" class="btn btn-primary btn-search col-12" value="Tìm kiếm">
        </div>
      </form> -->
      </div>

      <div class="card-body">
        <table class="table table-striped table-checkall">
          <thead>
            <tr>
              <th scope="col">#</th>
              <th scope="col">Tên khóa học</th>
              <th scope="col">Thời gian</th>
              <th scope="col">Tình trạng</th>
              <th scope="col">Sĩ số</th>
              <th scope="col">Học phí</th>
              <th scope="col">Tác vụ</th>
            </tr>
          </thead>
          <tbody>
          @foreach(var semester in semesters) {
            <tr>
              <td scope="row" class="table-index">@semester.tableIdx</td>
              <td>
                <a class="course-table-name" href='/Course/Detail?courseId=@p.courseId' target="_blank">
                  @semester.course_name
                </a>
              </td>
              <td>@($"{semester.start_date} - {semester.finish_date}")</td>
              <td>@semester.status</td>
              <td>@($"{semester.num_participants}/{semester.capacity}")</td>
              <td>@($"{semester.fee}đ")</td>
              <td>
                <div class="button-group-wrapper course-manager">
                  <button class="card-btn course-detail">Xem chi tiết</button> 
                 <button class="card-btn course-detaile"  data-bs-toggle="modal" data-bs-target="#studentTableModal">Xem danh sách học viên</button>
                   @await Html.PartialAsync("Popup/_StudentTablePopup")
                </div>
              </td>
            </tr>
          }
          </tbody>
        </table>
      </div>
    </div>
  </div>
<style>
  /* Làm mờ nền khi modal mở */
  .modal.show {
    backdrop-filter: blur(5px); /* Hiệu ứng blur */
    background-color: rgba(0, 0, 0, 0.3); /* Làm tối nền nhẹ */
  }
</style>
